<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOME - Sushi note</title>
    <link th:href="@{/css/index.css}" type="text/css" rel="stylesheet">
</head>
<body>
<div class="home">
    <header class="home-head">
        <h2 class="home__logo">
            <a class="header__logo" href="#" th:href="@{/}">
                <img class="header-logo" th:src="@{/images/sushi-note-logo.svg}">
                <span>Sushi note</span>
            </a>
        </h2>
        <nav class="nav__bar__top">
            <div th:if="${!isLogin}" class="home__toLogin">
                <a class="home__toLoginLink" href="#" th:href="@{/login}">Login</a>
            </div>
            <div th:if="${!isLogin}" class="home__toSignin">
                <a class="home__toSigninLink" href="#" th:href="@{/user/signup}">Sign up</a>
            </div>
            <div th:if="${isLogin}" class="nav__user-icon">
                <img class="nav__user-icon" th:src="@{/images/user.svg}">
            </div>
            <div th:if="${isLogin}" class="nav__add__note">
                <a class="add__note" href="#" th:href="@{/drafts/new}">Add note</a>
            </div>
        </nav>
    </header>
    <div class="home-main">
        <nav class="left-nav">
            <div class="topicMenu__container">
                <div class="topicMenu__section">
                    <a class="category__link" href="#" th:href="@{'/'}">
                        <img class="tag-img" th:src="@{/images/tag.svg}">
                        <button class="topicMenu__title">All</button>
                    </a>
                </div>
                <div class="topicMenu__section" th:each="topic : ${topics}">
                    <a class="category__link" href="#" th:href="@{'/categories/' + ${topic.topicId}}">
                        <img class="tag-img" th:src="@{/images/tag.svg}">
                        <button class="topicMenu__title" th:text="${topic.topicName}"></button>
                    </a>
                </div>
                <div th:if="${isLogin}" class="logout">
                    <form class="logout" th:action="@{/logout}" method="post">
                        <input id="logout" type="submit" value="Log out">
                    </form>
                </div>
            </div>
        </nav>
        <main class="home__body">
            <h1 class="timelineCategory__title" th:text="${activeCategoryName}">Recommendation</h1>
            <div class="timelineCategory__headerNav">
                <ul>
                    <li class="buttonGroup__item">
                        <button class="btn-small is-active">Latest</button>
                    </li>
                    <li class="buttonGroup__item">
                        <button class="btn-small">Popular</button>
                    </li>
                </ul>
            </div>
            <div class="timelineCategory__body">
                <p th:if="${articles.empty}">No items is found in the category</p>
                <div class="timelineCategory__item__wrapper" th:each="article : ${articles}">
                    <div class="timelineCategory__item">
                        <div class="timelineHeader">
                            <img class="timelineHeader__user-icon" th:src="@{/images/user.svg}">
                            <div class="timelineHeader__authorName">
                                <a href="#" th:text="${article.userId}">John</a>
                            </div>
                            <span>&nbsp;&middot;&nbsp;</span>
                            <div class="timelineHeader__post-date" th:text="${article.updatedDateTime}"></div>
                        </div>
                        <div class="gridNote__body">
                            <div class="textNote">
                                <a class="gridNote__link" href="#" th:href="@{'/s/'
                                + ${article.userId}
                                + '/'
                                + ${article.articleId}}">
                                    <h3 class="textNote__title" th:text="${article.title}"></h3>
                                </a>
                                <p class="textNote__description" th:text="${article.textBody}"></p>
                            </div>
                        </div>
                        <div class="gridNote__footer">
                            <div class="gridNote__footer__upvote">
                                <img class="upvote-icon" th:src="@{/images/clap.svg}">
                                <div class="upvote-count">34</div>
                            </div>
                            <div class="gridNote__footer__comment">
                                <img class="comment-icon" th:src="@{/images/speech-bubble.svg}">
                                <div class="comment-count">10</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>